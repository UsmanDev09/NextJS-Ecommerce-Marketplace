!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],n):n((e=e||self).ReactRanger={},e.React)}(this,(function(e,n){"use strict";function t(){return(t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function o(e,n){if(null==e)return{};var t,o,r={},u=Object.keys(e);for(o=0;o<u.length;o++)t=u[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var r=function(e){return[].concat(e).sort((function(e,n){return Number(e)-Number(n)}))},u={getPercentageForValue:function(e,n,t){return Math.max(0,Math.min(100,(e-n)/(t-n)*100))},getValueForClientX:function(e,n,t,o){return(o-t)*((e-n.left)/n.width)+t}};e.useRanger=function(e){var a,i,c=e.interpolator,s=void 0===c?u:c,l=e.tickSize,f=void 0===l?10:l,v=e.values,d=e.min,m=e.max,p=e.ticks,y=e.steps,h=e.onChange,g=e.onDrag,k=e.stepSize,b=n.useState(null),C=b[0],w=b[1],x=n.useState(),M=x[0],D=x[1],E=(a={activeHandleIndex:C,onChange:h,onDrag:g,values:v,tempValues:M},(i=n.useRef(a)).current=a,n.useCallback((function(){return i.current}),[])),O=n.useRef(),P=n.useCallback((function(e){var n,t,o=(n=O.current,t=n.getBoundingClientRect(),{left:Math.ceil(t.left),width:Math.ceil(t.width)});return s.getValueForClientX(e,o,d,m)}),[s,m,d]),R=n.useCallback((function(e,n){if(y){var t=y.indexOf(e)+n;return t>=0&&t<y.length?y[t]:e}var o=e+k*n;return o>=d&&o<=m?o:e}),[m,d,k,y]),S=n.useCallback((function(e){var n=d,t=m;if(y)y.forEach((function(o){o<=e&&o>n&&(n=o),o>=e&&o<t&&(t=o)}));else{for(;n<e&&n+k<e;)n+=k;t=Math.min(n+k,m)}return e-n<t-e?n:t}),[m,d,k,y]),L=n.useCallback((function(e){var n=E(),t=n.activeHandleIndex,o=n.onDrag,r="touchmove"===e.type?e.changedTouches[0].clientX:e.clientX,u=P(r),a=S(u),i=[].concat(v.slice(0,t),[a],v.slice(t+1));o?o(i):D(i)}),[E,P,S,v]),j=n.useCallback((function(e,n){var t=E(),o=t.values,u=t.onChange,a=void 0===u?function(){}:u;if(37===e.keyCode||39===e.keyCode){w(n);var i=37===e.keyCode?-1:1,c=R(o[n],i),s=[].concat(o.slice(0,n),[c],o.slice(n+1));a(r(s))}}),[E,R]),T=n.useCallback((function(e,n){w(n);var t=function e(n){var t=E(),o=t.tempValues,u=t.values,a=t.onChange,i=void 0===a?function(){}:a,c=t.onDrag,s=void 0===c?function(){}:c;document.removeEventListener("mousemove",L),document.removeEventListener("touchmove",L),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e);var l=r(o||u);i(l),s(l),w(null),D()};document.addEventListener("mousemove",L),document.addEventListener("touchmove",L),document.addEventListener("mouseup",t),document.addEventListener("touchend",t)}),[E,L]),V=n.useCallback((function(e){return s.getPercentageForValue(e,d,m)}),[s,m,d]),X=n.useMemo((function(){var e=p||y;if(!e){for(e=[d];e[e.length-1]<m-f;)e.push(e[e.length-1]+f);e.push(m)}return e.map((function(e,n){return{value:e,getTickProps:function(r){var u=void 0===r?{}:r,a=u.key,i=void 0===a?n:a,c=u.style,s=void 0===c?{}:c,l=o(u,["key","style"]);return t({key:i,style:t({position:"absolute",width:0,left:V(e)+"%",transform:"translateX(-50%)"},s)},l)}}}))}),[p,V,m,d,y,f]),F=n.useMemo((function(){var e=r(M||v);return[].concat(e,[m]).map((function(n,r){return{value:n,getSegmentProps:function(u){var a=void 0===u?{}:u,i=a.key,c=void 0===i?r:i,s=a.style,l=void 0===s?{}:s,f=o(a,["key","style"]),v=V(e[r-1]?e[r-1]:d);return t({key:c,style:t({position:"absolute",left:v+"%",width:V(n)-v+"%"},l)},f)}}}))}),[V,m,d,M,v]),H=n.useMemo((function(){return(M||v).map((function(e,n){return{value:e,active:n===C,getHandleProps:function(r){var u=void 0===r?{}:r,a=u.key,i=void 0===a?n:a,c=(u.ref,u.innerRef,u.onKeyDown),s=u.onMouseDown,l=u.onTouchStart,f=u.style,v=void 0===f?{}:f,p=o(u,["key","ref","innerRef","onKeyDown","onMouseDown","onTouchStart","style"]);return t({key:i,onKeyDown:function(e){e.persist(),j(e,n),c&&c(e)},onMouseDown:function(e){e.persist(),T(e,n),s&&s(e)},onTouchStart:function(e){e.persist(),T(e,n),l&&l(e)},role:"slider","aria-valuemin":d,"aria-valuemax":m,"aria-valuenow":e,style:t({position:"absolute",top:"50%",left:V(e)+"%",zIndex:n===C?"1":"0",transform:"translate(-50%, -50%)"},v)},p)}}}))}),[C,V,j,T,d,m,M,v]);return{activeHandleIndex:C,getTrackProps:function(e){var n=void 0===e?{}:e,r=n.style,u=void 0===r?{}:r,a=n.ref,i=o(n,["style","ref"]);return t({ref:function(e){O.current=e,a&&("function"==typeof a?a(e):a.current=e)},style:t({position:"relative",userSelect:"none"},u)},i)},ticks:X,segments:F,handles:H}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-ranger.production.min.js.map
